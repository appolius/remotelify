<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Remotelify Upload</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 font-sans">
    <div class="max-w-3xl mx-auto py-12">
      <h1 class="text-3xl font-bold text-center mb-8">Remotelify Content Upload</h1>

      <form
        action="/upload"
        method="post"
        enctype="multipart/form-data"
        class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 border border-gray-300"
      >
        <label
          for="file"
          class="block text-gray-700 text-sm font-bold mb-2"
        >
          Drag & drop or click to select a file
        </label>
        <input
  id="fileInput"
  name="file"
  type="file"
  accept=".mp4"
  onchange="toggleUploadButton()"
  class="w-full text-sm text-gray-600 border border-gray-300 rounded px-3 py-2 mb-4 focus:outline-none"
/>


        <button
  id="uploadBtn"
  type="submit"
  class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded"
  disabled
>
  Upload
</button>

      </form>

      <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 border border-gray-300">
        <h2 class="text-xl font-semibold mb-4">Uploaded Files</h2>
        <ul class="list-disc list-inside space-y-1">
          {% for file in files %}
            <li class="flex items-center justify-between">
  <a href="/files/{{ file }}" target="_blank" class="text-blue-600 hover:underline">
    {{ file }}
  </a>
  <form method="POST" action="/delete/{{ file }}" onsubmit="return confirm('Delete {{ file }}?');">
    <button type="submit" class="text-red-600 hover:underline text-sm ml-4">Delete</button>
  </form>
</li>

          {% else %}
            <li>No files uploaded yet.</li>
          {% endfor %}
        </ul>
      </div>
    </div>

    <script>
  function toggleUploadButton() {
    const fileInput = document.getElementById('fileInput');
    const uploadBtn = document.getElementById('uploadBtn');
    uploadBtn.disabled = !fileInput.value;
  }
</script>

  </body>
</html>
